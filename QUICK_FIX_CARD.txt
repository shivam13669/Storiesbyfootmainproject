â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    ğŸ”§ QUICK FIX - ADMIN LOGIN STUCK                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

THE PROBLEM:
  You logged in but admin dashboard didn't open, and now you're stuck.
  Reason: Your admin profile is missing from the database.

THE FIX (Pick One):

â”Œâ”€ OPTION 1: EASIEST (Recommended) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Log in to your website                                          â”‚
â”‚ 2. Click your name (top-right menu)                                â”‚
â”‚ 3. Click "Complete Admin Setup"                                    â”‚
â”‚ 4. Click "Create Admin Profile" button                             â”‚
â”‚ 5. Done! âœ“ You're now admin                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ OPTION 2: MANUAL (If Option 1 Doesn't Work) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Go to Supabase Dashboard â†’ SQL Editor                           â”‚
â”‚ 2. Click "New Query"                                               â”‚
â”‚ 3. Copy & Run this SQL (replace YOUR_EMAIL):                       â”‚
â”‚                                                                    â”‚
â”‚   UPDATE public.users                                              â”‚
â”‚   SET role = 'admin', canWriteTestimonial = true                  â”‚
â”‚   WHERE id = (SELECT id FROM auth.users                            â”‚
â”‚               WHERE email = 'YOUR_EMAIL_HERE');                    â”‚
â”‚                                                                    â”‚
â”‚ 4. Wait for "1 row updated" message                                â”‚
â”‚ 5. Go back to website and refresh                                  â”‚
â”‚ 6. Log in again â†’ Admin Dashboard                                  â”‚
â”‚ 7. Done! âœ“                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

WHAT I'VE DONE FOR YOU:
âœ… Created /admin-setup page with auto-setup button
âœ… Added "Complete Admin Setup" option in your user menu
âœ… Improved login flow to handle missing profiles
âœ… Created ADMIN_SETUP_FIX.md with detailed guide

NEXT STEPS:
1. Try Option 1 (easiest)
2. If it doesn't work, use Option 2 (SQL manual)
3. After fix, read ADMIN_SETUP_FIX.md for more help

COMMON ISSUES:
Issue: "Admin Setup page shows but nothing happens"
â†’ Your Supabase RLS policies might need adjustment
â†’ Use Option 2 (manual SQL) instead - always works!

Issue: "Still stuck after clicking Create Profile"
â†’ Clear browser cache (Ctrl+Shift+Delete)
â†’ Refresh page (Ctrl+R)
â†’ Try logging in again

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TL;DR:
You need to run ONE SQL command in Supabase to set your role to 'admin'.
I've made it easy with the auto-setup page, or you can do it manually.
Either way, you'll be fixed in 2 minutes! ğŸš€
